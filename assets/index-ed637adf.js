import{r as e,a as t}from"./vendor.c398b6c7.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var s={exports:{}},r={},a=e,l=Symbol.for("react.element"),n=Symbol.for("react.fragment"),d=Object.prototype.hasOwnProperty,i=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function o(e,t,s){var r,a={},n=null,o=null;for(r in void 0!==s&&(n=""+s),void 0!==t.key&&(n=""+t.key),void 0!==t.ref&&(o=t.ref),t)d.call(t,r)&&!c.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:l,type:e,key:n,ref:o,props:a,_owner:i.current}}r.Fragment=n,r.jsx=o,r.jsxs=o,s.exports=r;var m,x=s.exports,h=t;m=h.createRoot,h.hydrateRoot;const u=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],g=()=>{const[t,s]=e.useState(null),[r,a]=e.useState({}),[l,n]=e.useState(null),[d,i]=e.useState(!0),[c,o]=e.useState(null),[m,h]=e.useState("all"),[g,p]=e.useState(null),[f,j]=e.useState("Starting data load...");e.useEffect((()=>{(async()=>{try{j((e=>e+"\nAttempting to fetch data..."));const e=await fetch("data/nifty_returns.json");if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const t=await e.json();s(t),j((e=>e+"\nData parsed successfully"));const r={};Object.entries(t).forEach((([e,t])=>{let s=100;Object.values(t).forEach((e=>{null!=e&&(s*=1+e/100)})),r[e]=(s-100).toFixed(2)})),a(r);const l=[];Object.entries(t).forEach((([e,t])=>{Object.entries(t).forEach((([t,s])=>{null!=s&&l.push({year:e,month:t,value:s})}))}));const n=l.sort(((e,t)=>t.value-e.value));p({best:n[0],worst:n[n.length-1],average:(l.reduce(((e,t)=>e+t.value),0)/l.length).toFixed(2)})}catch(e){n(e.message),j((t=>t+"\nError: "+e.message))}finally{i(!1)}})()}),[]);const v=e=>void 0===e?"bg-gray-100":e>5?"bg-green-600 text-white":e>2?"bg-green-500 text-white":e>0?"bg-green-300":e>-2?"bg-red-300":e>-5?"bg-red-500 text-white":"bg-red-600 text-white";if(d)return x.jsx("div",{className:"flex items-center justify-center min-h-screen p-4",children:x.jsxs("div",{className:"space-y-2",children:[x.jsx("div",{className:"text-lg",children:"Loading NIFTY returns data..."}),x.jsx("pre",{className:"text-sm text-gray-600 bg-gray-50 p-2 rounded",children:f})]})});if(l)return x.jsxs("div",{className:"p-4",children:[x.jsxs("div",{className:"text-red-600 mb-4",children:["Error loading data: ",l]}),x.jsx("pre",{className:"text-sm bg-gray-50 p-4 rounded",children:f}),x.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:["Please check:",x.jsxs("ul",{className:"list-disc ml-6 mt-2",children:[x.jsx("li",{children:"The file exists at data/nifty_returns.json"}),x.jsx("li",{children:"The JSON content is valid"}),x.jsx("li",{children:"The server is responding correctly"})]})]})]});const y=Object.keys(t).sort(((e,t)=>t-e)),b="all"===m?y:y.filter((e=>"recent"===m?parseInt(e)>=2020:"crisis"!==m||["2008","2020"].includes(e)));return x.jsxs("div",{className:"min-h-screen bg-gray-50",children:[x.jsx("div",{className:"bg-white shadow",children:x.jsxs("div",{className:"p-4 md:p-6 max-w-full mx-auto",children:[x.jsxs("div",{className:"mb-4 md:mb-6",children:[x.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900",children:"NIFTY 50 Monthly Returns Heatmap"}),x.jsx("p",{className:"text-sm md:text-base text-gray-600 mt-1",children:"Monthly percentage returns of NIFTY 50 index over time"})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-4",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"text-gray-700 text-sm md:text-base",children:"Time Period:"}),x.jsxs("select",{className:"border rounded px-2 py-1 text-sm md:text-base",value:m,onChange:e=>h(e.target.value),children:[x.jsx("option",{value:"all",children:"All Years"}),x.jsx("option",{value:"recent",children:"Recent (2020+)"}),x.jsx("option",{value:"crisis",children:"Crisis Years"})]})]}),g&&x.jsxs("div",{className:"grid grid-cols-1 md:flex md:flex-wrap gap-2 md:gap-4 text-sm",children:[x.jsxs("div",{children:["Best Month:",x.jsxs("span",{className:"text-green-600 font-medium ml-1",children:[g.best.month," ",g.best.year," (",g.best.value.toFixed(2),"%)"]})]}),x.jsxs("div",{children:["Worst Month:",x.jsxs("span",{className:"text-red-600 font-medium ml-1",children:[g.worst.month," ",g.worst.year," (",g.worst.value.toFixed(2),"%)"]})]}),x.jsxs("div",{children:["Average Return:",x.jsxs("span",{className:"font-medium ml-1",children:[g.average,"%"]})]})]})]}),x.jsxs("div",{className:"grid grid-cols-3 md:flex md:flex-wrap gap-2 md:gap-4 text-xs md:text-sm",children:[x.jsx("span",{className:"col-span-3 text-gray-700",children:"Returns:"}),[{range:">5%",color:"bg-green-600"},{range:"2-5%",color:"bg-green-500"},{range:"0-2%",color:"bg-green-300"},{range:"0 to -2%",color:"bg-red-300"},{range:"-2 to -5%",color:"bg-red-500"},{range:"<-5%",color:"bg-red-600"}].map((({range:e,color:t})=>x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsx("div",{className:`w-3 h-3 md:w-4 md:h-4 ${t}`}),x.jsx("span",{children:e})]},e)))]})]})]})}),x.jsx("div",{className:"p-2 md:p-6",children:x.jsx("div",{className:"overflow-x-auto -mx-2 md:mx-0",children:x.jsxs("table",{className:"w-full border-collapse bg-white text-xs md:text-sm",children:[x.jsx("thead",{children:x.jsxs("tr",{children:[x.jsx("th",{className:"border p-1 md:p-2 bg-gray-50 text-left font-medium text-gray-700 sticky left-0 z-10",children:"Year"}),u.map((e=>x.jsx("th",{className:"border p-1 md:p-2 bg-gray-50 font-medium text-gray-700 text-center whitespace-nowrap",children:e},e))),x.jsx("th",{className:"border p-1 md:p-2 bg-gray-100 font-medium text-gray-700 text-center whitespace-nowrap",children:"Year Total"})]})}),x.jsx("tbody",{children:b.map((e=>x.jsxs("tr",{children:[x.jsx("td",{className:"border p-1 md:p-2 font-medium text-gray-700 sticky left-0 bg-white z-10",children:e}),u.map((s=>{var r;const a=null==(r=t[e])?void 0:r[s],l=((e,t,s)=>void 0!==s&&s<=-15||"2008"===e&&"Oct"===t||"2020"===e&&"Mar"===t)(e,s,a);return x.jsxs("td",{className:`border p-1 md:p-2 text-center relative ${v(a)} \n                          ${l?"ring-2 ring-yellow-400":""}`,onMouseEnter:()=>o({year:e,month:s,value:a}),onMouseLeave:()=>o(null),children:[void 0!==a?a.toFixed(2):"",l&&x.jsx("div",{className:"absolute -top-1 -right-1 w-1.5 h-1.5 md:w-2 md:h-2 bg-yellow-400 rounded-full"})]},`${e}-${s}`)})),x.jsxs("td",{className:`border p-1 md:p-2 text-center font-medium ${v(parseFloat(r[e]))}`,children:[r[e],"%"]})]},e)))})]})})}),c&&void 0!==c.value&&x.jsxs("div",{className:"fixed bg-white p-2 md:p-3 rounded shadow-lg border text-xs md:text-sm",style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:50},children:[x.jsxs("div",{className:"font-medium",children:[c.month," ",c.year]}),x.jsxs("div",{className:c.value>=0?"text-green-600":"text-red-600",children:["Return: ",c.value.toFixed(2),"%"]})]})]})};function p(){return x.jsx("div",{className:"min-h-screen bg-gray-100 p-4",children:x.jsx(g,{})})}m(document.getElementById("root")).render(x.jsx(e.StrictMode,{children:x.jsx(p,{})}));
//# sourceMappingURL=index-ed637adf.js.map
